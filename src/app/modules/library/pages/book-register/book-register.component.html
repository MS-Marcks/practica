<div class="bookregister">
  <div class="bookregister__header flex__display flex__justify-content-space-between">
    <h1>{{isUpdate?'Editar': 'Registro'}} Libro</h1>
    <div></div>
  </div>
  <div>
    <pichincha-alerts [type]="alert.type" [description]="alert.description" [show]="alert.show"
      [autoClose]="alert.autoClose" [closeTime]="alert.closeTime" (clickCloseEvent)="handleClickCloseEvent()">
    </pichincha-alerts>
    <form [formGroup]="bookRegisterForm">
      <div class="row form__group">
        <div class="col-sm">
          <pichincha-input [state]="states.title.state" label="Nombre de libro" formControlName="title"
            placeholder="Ej. Angular + NGRX" type="text" [errorHelper]="states.title.error" is-optional="false"
            error-helper=""></pichincha-input>
        </div>
        <div class="col-sm">
          <pichincha-input [state]="states.author.state" label="Nombre del autor" formControlName="author"
            placeholder="Ej. Kevin SuÃ¡rez" type="text" is-optional="false"
            [errorHelper]="states.author.error"></pichincha-input>
        </div>
      </div>
      <div class="row form__group">
        <div class="col-sm">
          <pichincha-input label="URL del libro" [state]="states.url.state" formControlName="url"
            placeholder="Ej. https://book-all.com/sabhjxm2kk" [errorHelper]="states.url.error" type="text"
            is-optional="false"></pichincha-input>
        </div>
        <div class="col-sm">
          <pichincha-input label="Imagen de portada" [state]="states.image.state" formControlName="image"
            placeholder="Ej. https://book-all.com/sabhjxm2kk/img" [errorHelper]="states.image.error" type="text"
            is-optional="false"></pichincha-input>
        </div>
      </div>
      <div class="row form__group">
        <div class="col-sm">
          <label for="" class="textarea__description">Resumen del libro</label>
          <textarea class="textarea" formControlName="summary"></textarea>
          <pichincha-input-message *ngIf="states.summary.state" info-message=""
            error-message="Resumen del libro requerido" state="error" single-line="false"></pichincha-input-message>
        </div>
        <div class="col-sm form__group">
          <pichincha-check-box text="Publicar" formControlName="publish"></pichincha-check-box>
        </div>
      </div>
      <div class="form__group" style="margin-top: 10px;">
        <h2>Categorias</h2>
        <div class="form__group" *ngFor="let item of categorySelected; let i=index;">
          <pichincha-check-box [checked]="item.value" idElement="categoryInterest-{{i}}" value="{{i+1}}"
            (clickCheck)="getCategoryInterest($event,i)" text="{{item.label}}"></pichincha-check-box>
        </div>
      </div>
      <p style="margin-top: 20px; color: gray;">Debe seleccionar al menos 3 categorias</p>
    </form>
  </div>
  <div class="bookregister__footer d-flex justify-content-end">
    <pichincha-button class="bookregister__footer__button" [routerLink]="['/library/books']" variant="secondary"
      size="medium" label="Cancelar"></pichincha-button>
    <pichincha-button class="bookregister__footer__button" variant="primary" size="medium"
      label="{{isUpdate?'Editar': 'Registrar'}}" (clickEvent)="submit()"></pichincha-button>
  </div>
</div>
